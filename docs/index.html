<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LXMFy - LXMF Bot Framework</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <nav>
        <div class="nav-content">
            <h1>LXMFy</h1>
            <div class="nav-links">
                <a href="#features">Features</a>
                <a href="#installation">Installation</a>
                <a href="#usage">Usage</a>
                <a href="#developers">Developers</a>
                <a href="https://github.com/Sudo-Ivan/LXMFy">GitHub</a>
                <a href="https://pypi.org/project/lxmfy/">PyPI</a>
            </div>
        </div>
    </nav>

    <main>
        <section class="hero">
            <h1>LXMFy</h1>
            <p>Easily create LXMF bots for the Reticulum Network with this framework. Very similar to Discord.py.</p>
            <div class="version-badge">
                <a href="https://github.com/Sudo-Ivan/LXMFy/releases/tag/v0.0.0">v0.0.0</a>
            </div>
        </section>

        <section id="features">
            <h2>Features</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <h3>Hot Reloading</h3>
                    <p>Cog system for modular bot development</p>
                </div>
                <div class="feature-card">
                    <h3>Moderation</h3>
                    <p>Built-in commands for unban, stats, and more</p>
                </div>
                <div class="feature-card">
                    <h3>Spam Protection</h3>
                    <p>Rate limiting, cooldowns, warnings, and banning</p>
                </div>
                <div class="feature-card">
                    <h3>Flexible Commands</h3>
                    <p>Customizable command prefix and announcement intervals</p>
                </div>
            </div>
        </section>

        <section id="installation">
            <h2>Installation</h2>
            <div class="code-block">
                <pre><code>pip install lxmfy</code></pre>
            </div>
            <div class="code-block">
                <pre><code>poetry add lxmfy</code></pre>
            </div>
        </section>

        <section id="usage">
            <h2>Usage</h2>
            <h3>CLI Tool</h3>
            <div class="code-block">
                <pre><code>lxmfy create</code></pre>
            </div>

            <h3>Python Example</h3>
            <div class="code-block">
<pre><code>from lxmfy import LXMFBot, load_cogs_from_directory

# Initialize the bot with configuration
bot = LXMFBot(
    name="LXMFy Test Bot",          # Name that appears on the network
    announce=600,                    # Announce every 600 seconds (0 to disable)
    admins=["your_lxmf_hash_here"], # List of admin LXMF hashes
    hot_reloading=True,             # Enable hot reloading for cogs
    command_prefix="/",              # Command prefix (None for all messages)
    cogs_dir="cogs",                # Directory for cog modules
    rate_limit=5,                   # Max messages per minute
    cooldown=5,                     # Seconds between commands
    max_warnings=3,                 # Warnings before ban
    warning_timeout=300             # Warning reset time in seconds
)

# Load all cogs from the cogs directory
load_cogs_from_directory(bot)

# Basic command example
@bot.command(name="ping", description="Test if bot is responsive")
def ping(ctx):
    ctx.reply("Pong!")

# Admin-only command example
@bot.command(name="echo", description="Echo a message", admin_only=True)
def echo(ctx, message: str):
    ctx.reply(message)

# Start the bot
bot.run()</code></pre>
            </div>
        </section>

        <section id="developers">
            <h2>Framework Development</h2>
            
            <h3>Core Architecture</h3>
            <div class="reference-grid">
                <div class="reference-card">
                    <h4>Core Module</h4>
                    <p>Core bot functionality and message routing system.</p>
                    <div class="code-block">
<pre><code>class LXMFBot:
    delivery_callbacks = []
    receipts = []
    queue = Queue(maxsize=5)

    def _message_received(self, message):
        # Message handling pipeline
        sender = RNS.hexrep(message.source_hash)
        content = message.content.decode()
        
        # 1. Spam check
        # 2. Command parsing
        # 3. Context creation
        # 4. Command execution</code></pre>
                    </div>
                    <h5>Key Components</h5>
                    <ul>
                        <li><code>RNS/LXMF Integration</code> - Network handling</li>
                        <li><code>Message Queue</code> - Async message processing</li>
                        <li><code>Identity Management</code> - Bot identity and storage</li>
                        <li><code>Extension System</code> - Hot-reloadable modules</li>
                    </ul>
                </div>

                <div class="reference-card">
                    <h4>Command System</h4>
                    <p>Decorator-based command registration and context handling.</p>
                    <div class="code-block">
<pre><code>class Command:
    def __init__(self, name, description, admin_only):
        self.name = name
        self.callback = None
    
    def __call__(self, func):
        self.callback = func
        func._command = self
        return func

    def __get__(self, obj, objtype=None):
        # Support instance methods
        if obj is None:
            return self</code></pre>
                    </div>
                    <h5>Extension Points</h5>
                    <ul>
                        <li><code>Command Attributes</code> - Custom command metadata</li>
                        <li><code>Context Injection</code> - Dynamic context building</li>
                        <li><code>Decorator System</code> - Command registration</li>
                    </ul>
                </div>

                <div class="reference-card">
                    <h4>Framework Architecture</h4>
                    <p>Core systems and extension points for framework development.</p>
                    <div class="code-block">
<pre><code>Framework Components:
├── core.py         # Message routing & bot core
├── commands.py     # Command system
├── moderation.py   # Spam protection
├── cogs_core.py    # Extension loading
└── utils/          # Helper utilities

Extension Points:
- Command Registration
- Message Pipeline
- Cog Loading
- Event System</code></pre>
                    </div>
                    <h5>Development Areas</h5>
                    <ul>
                        <li><code>Message Pipeline</code> - Custom message processors</li>
                        <li><code>Event System</code> - Additional event types</li>
                        <li><code>Storage Systems</code> - Persistent data handling</li>
                        <li><code>Network Layer</code> - RNS/LXMF integration</li>
                    </ul>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>Created by Sudo-Ivan • Licensed under MIT</p>
    </footer>
</body>
</html>